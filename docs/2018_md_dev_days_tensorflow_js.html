<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Machine Learning in the Browser</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
    <link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">
    <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->


    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
    <style>
        pre code {
            /*display: block;*/
            /*padding: 0.5em;*/
            /*background: #FFFFFF !important;*/
            /*color: #000000 !important;*/
            font-size: larger !important;
        }

        .right-img {
            margin-left: 10px !important;
            float: right;
            /*height: 500px;*/
        }
        .left-img {
            margin-left: 10px !important;
            float: left;
            /*height: 500px;*/
        }
        .todo:before {
            content: 'TODO: ';
        }
        .todo {
            color: red !important;
        }
        code span.line-number {
            color: lightcoral;
        }

    </style>

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
    <div class="slides">

<!--
Titel: deeplearn.js - Warum der Browser und Machine Learning perfekt zusammen passen

Abstract: https://deeplearnjs.org/ ermöglicht Machine Learning im Stile von TensorFlow direkt im Browser. 
Dabei ist man nicht auf außerhalb des Browsers trainierte Modelle eingeschränkt, sondern kann diese selbst interaktiv im Browser trainieren. 
Dies funktioniert effizient, weil über WebGL jede GPU genutzt werden kann.

Damit können wir Machine Learning direkt mit den ganzen tollen Sachen kombinieren, die der Browser ohnehin mitbringt. 
Dadurch eröffnet sich eine völlig neue Welt an Anwendungen in den Bereichen Ausbildung, Deployment, Visualisierung und Entwicklung. 
Sogar eine Revolution im Bereich UX durch lernfähige Interfaces ist denkbar.

In diesem Talk werde ich in Kombination mit Canvas, Web Audio und Kamera-Input Beispiele für diese Bereiche zeigen. 
Ich führe dabei auch in die Programmierung von deeplearn ein, sodass du einen Startpunkt für eigene Experimente hast.
-->
        <section data-markdown class="preparation">
            <script type="text/template">
### Preparation

- tensforflow Playground Demo vorbereiten
  - Learn about the process of training
  - How does a neuron work?
  - Neural Network Architecture

- Open Deep Learn js sample in VSC
  - start ```http-server``` in terminal
  - Color Scheme: High Contrast
  - Zoom In
- Open all demos way ahead of time when there still is internet
- Copy data/flights.csv to download for facets overview
- Open Bonkers in one tab to have URL ready as input to Resnet on keras.js
  - https://djcordhose.github.io/ai/img/cat-bonkers.png
            </script>
        </section>

        <section>
            <h2>Educate, Visualize, Develop, Deploy with tensforflow.js</h2>
            <h3>Why the Browser and Machine Learning are a perfect match</h3>
            <p><a target="_blank" href="https://www.md-devdays.de/Act?id=99">Magdeburger Developer Days, 2018</a></p>
            <h4><a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
            </h4>
            <p><small><a href="http://bit.ly/md-tensorflow-js">
                http://bit.ly/md-tensorflow-js
            </a></small></p>
        </section>

        <section>
            <img src="img/tensorflow_js.png">
            <p><a href="https://js.tensorflow.org/" target="_blank">https://js.tensorflow.org/</a></p>
        </section>

        <section class="todo">
            <pre>
- Bei Educate die Demos von der Webseite zeigen und damit erklären, was es tut. 
  - Muss bei js Konferenz eben auch Einführung in ML sein, sonst versteht keiner was
- Für Develop: Code wie bei hh.js. 
  - Intro: Was ist eigentlich Tensorflow?
  - Mein App portieren: (https://twitter.com/nsthorat/status/979955896032755712)
  - auch slider und so mit observablehq?
- Tensorflow Dev Summit, Tensorflow.js: https://youtu.be/YB-kfeNIPCE?list=PLQY2H8rRoyvxjVx3zfw4vA4cvlKogyLNN
  - Auch Screenshots machen für Bilder
  - Auch hier Bilder klauen
    - https://js.tensorflow.org/
    - https://github.com/tensorflow/tfjs
- Beispiel Sentiment Analysis: https://beta.observablehq.com/@jashkenas/sentiment-analysis-with-tensorflow-js
            </pre>
        </section>

        <section class="todo">
            <pre>

* Aus 2017_ml_browser_hhjs objectives met übernehmen?

* https://medium.com/tensorflow/introducing-tensorflow-js-machine-learning-in-javascript-bf3eab376db

* https://js.tensorflow.org/tutorials/

Educate
Auch die anderen coolen Beispiele zeigen


In Develop zeigen wie das im Browser geht, ohne Installation und nvidia GPU und Treiber. Slides Workshop übernehmen.



Unter Deploy zeigen wie das aus Keras geht und Pläne für Node GpU        
            </pre>
            </section>
        <section>
            <h2>Wait, but why?</h2>
                <div class="fragment">
                    <h3>Python and R are predominant</h3>
                    <ul>
                        <li>Have a large and mature set of libs
                        <li>Are reasonably fast
                        <li>Use bindings to C/C++ or Fortran for speed and reuse
                    </ul>
                </div>
        </section>

        <section>
            <h1>(I) Educate</h1>
            <p class="fragment">Everyone can be educated, they just need a browser and internet</p>
            <p class="fragment">Concepts are much easier to grok when you can play around with them</p>
        </section>

        <section>
            <h3>Experiment to explore how machine learning works</h3>
            <p>
                <small>Built using deeplearn.js (predecessor of tensorflow.js)</small>
            </p>
            <div style="margin-top: -40px">
                <a href="https://teachablemachine.withgoogle.com/" target="_blank">
                    <img src="img/browser/teachable-machine.png" height="350px">
                </a>
                <p>
                    <small>
                        <a href="https://teachablemachine.withgoogle.com/" target="_blank">https://teachablemachine.withgoogle.com/</a>
                    </small>
                </p>
        </section>
        
        <section>
            <h3>Tensorflow Playground</h3>
            <p>Where it all started - Playing with Neural Networks without any installation</p>
            <a href="http://playground.tensorflow.org" target="_blank">
                <img src="img/browser/playground.png">
            </a>
            <p><small><a href="http://playground.tensorflow.org" target="_blank">http://playground.tensorflow.org</a></small></p>
        </section>

        <section>
                <h3>Training a network</h3>
                    <a target="_blank" href="https://deeplearnjs.org/demos/model-builder/">
                <img src="img/deeplearn-model-builder.png" height="500px">
                </a>
            <p>
                <small>
                    <a target="_blank" href="https://deeplearnjs.org/demos/model-builder/">
                         https://deeplearnjs.org/demos/model-builder/</a>
                </small>
            </p>
            </section>
        
        <section>
            <h1>(II) Develop</h1>
            <p class="fragment">Most obvious reason: JavaScript is the language you are most comfortable with</p>
            <p class="fragment">You just happen to develop for the browser</p>
            <p class="fragment">You are intrigued by how JavaScript development works</p>
        </section>

        <section>
                <h3>Core Concepts</h3>
            <p>It's all about matrix operations</p>
                <pre><code contenteditable data-trim class="fragment line-numbers python">
const a = tf.tensor1d([1, 2, 3]);
const b = tf.scalar(2);

const result = a.add(b); // a is not modified, result is a new tensor
                </code></pre>
                                    
                <pre><code contenteditable data-trim class="fragment line-numbers python">
const data = await result.data(); 
console.log(data); // Float32Array([3, 4, 5]
                </code>
            </pre>
            <p><a href="js/tensorflow-sandbox/minimal.html" target="_blank">Minimal Example</a></p>
            <p><a href="https://github.com/tensorflow/tfjs" target="_blank">https://github.com/tensorflow/tfjs</a></p>
            <p><a href="https://js.tensorflow.org/tutorials/core-concepts.html" target="_blank">
                https://js.tensorflow.org/tutorials/core-concepts.html</a></p>
        </section>
    
            <section>
            <h3>Demo: Changing the Optimizer in a simple example</h3>
            <p>Getting an impression of how to code and how the turnaround cycle works</p>
            <p><a href="js/polynomial-regression-core/" target="_blank">Polynomial Regression Example</a></p>
        </section>

<section data-markdown>
    <textarea data-template>
### Steps
* Find API documentation about Optimizers: https://js.tensorflow.org/api/0.6.1/#Training-Optimizers
* Changing to first https://js.tensorflow.org/api/0.6.1/#train.momentum and then https://js.tensorflow.org/api/0.6.1/#train.adam 
</textarea>
</section>
        
        <section>
            <h3>deeplearn.js</h3>
            <p>Full TypeScript ML library using browser GPU</p>
            <a href="https://pair-code.github.io/deeplearnjs/demos/imagenet/imagenet-demo.html" target="_blank">
                <img src="img/browser/deeplearn-sigurd.png" height="300px">
            </a>
            <p><a href="https://pair-code.github.io/deeplearnjs" target="_blank">https://pair-code.github.io/deeplearnjs</a></p>
            <p><small>Includes full training mimicking TensorFlow and NumPy API
                <a href="https://research.googleblog.com/2017/08/harness-power-of-machine-learning-in.html" target="_blank">
                    https://research.googleblog.com/2017/08/harness-power-of-machine-learning-in.html</a></small></p>
        </section>

        <section>
            <h4>More Machine Learning with JavaScript</h4>
            <ul>
                <li>
                    <a href="http://cs.stanford.edu/people/karpathy/convnetjs/" target="_blank">
                        ConvNetJS</a>: Visual NN exploration for learning
                    (<a href="http://cs.stanford.edu/people/karpathy/tsnejs/" target="_blank">t-SNE</a>
                    cluster exploration from same auhtor)

                <li><a target="_blank" href="https://github.com/harthur-org/brain.js">
                    Brain.js
                </a>:
                    simple and straing forward NN implementation</li>
                <li><a href="http://caza.la/synaptic/#/">synaptic.js</a>: similar scope as Brain.js, a bit more active</li>
                <li><a href="https://github.com/mljs/ml">ml.js</a>: generic low level libs for machine learning</li>

                <!--<li><a href="https://scienceai.github.io/neocortex/" target="_blank">-->
                    <!--neocortex.js-->
                <!--</a>runs pre-trained deep neural networks (<a href="http://keras.io/" target="_blank">Keras</a> models)-->
                <!--<li><a href="https://www.npmjs.com/package/scikit-node" target="_blank">-->
                    <!--scikit-node-->
            <!--</a>: Wrapper for Python's <a target="_blank" href="http://scikit-learn.org/">scikit-learn</a> (mainstream lib)-->
            </ul>
        </section>

        <section>
            <h3>Demo: deeplearn.js</h3>
            <p>Use all Browser features in combination with Machine Learning</p>
            <!--<ul class="fragment">-->
                <!--<li>Written in TypeScript-->
                <!--<li>camera-->
                <!--<li>high interaction-->
            <!--</ul>-->
            <a href="http://localhost:8080" target="_blank">
                <img src="img/browser/NDArrayMathGPU.png" height="350px">
            </a>
            <p><small><a href="https://pair-code.github.io/deeplearnjs/docs/tutorials/intro.html" target="_blank">
                https://pair-code.github.io/deeplearnjs/docs/tutorials/intro.html</a></small></p>
            <!--<ul class="fragment">-->
                <!--<li>Operations on Tensors-->
                <!--<li>Basic Learning-->
            <!--</ul>-->
        </section>

        <section>
            <h1>(III) Deploy</h1>
            <p>JavaScript might be the only language around</p>
            <p class="fragment">because all you have is a browser</p>

            <ul class="fragment">
                <li>you on your mobile phone
                <li>AI in browser based game
                <li>combination with interactive visualizations and other browser features (like audio and video)
                <li>use any GPU
            </ul>

        </section>

        <section>
                <h3>GPU?</h3>
                <p class="fragment">Graphics Processing Unit, originally for graphics</p>
                <p class="fragment">GPUs are specialized on parallel matrix operations</p>
                <p class="fragment">For all real problems you will need very powerful GPUs</p>
                <p class="fragment">TensorFlow only supports NVIDIA GPUs</p>
                <p class="fragment"><strong>Tensorflow.js allows you to train and predict on any GPU</strong></p>
            </section>
<section data-markdown>
    <textarea data-template>
* save a Keras model, e.g. `insurance.hdf5` 
* `pip install tensorflowjs`
* `tensorflowjs_converter --input_format keras insurance.hdf5 tfjs_artifacts`
* 

https://js.tensorflow.org/tutorials/import-keras.html
</textarea>
</section>
<section data-markdown>
        <textarea data-template>
inputs = tf.keras.Input(name='input', shape=(3, ))
x = tf.keras.layers.Dense(100, name='hidden1', activation='relu')(inputs)
x = tf.keras.layers.Dense(100, name='hidden2', activation='relu')(x)
predictions = tf.keras.layers.Dense(3, name='softmax', activation='softmax')(x)
model = tf.keras.models.Model(inputs=inputs, outputs=predictions)

model.compile(optimizer='adam',
              loss='categorical_crossentropy',
              metrics=['accuracy'])
</textarea>
</section>
<section data-markdown>
        <textarea data-template>
const model = await tf.loadModel('tfjs_artifacts/model.json');
</textarea>
</section>
            

        <section>
            <h3>Wrapping Up</h3>
            <p>Browser based ML apps</p>
            <ul>
                <li>can make use of any GPU (not only CUDA)
                <li>have highest reach due to zero installation
                <li>can be easily integrated into existing Web Apps
                <li>allow for best visualization
                <li>are ideal for interactive learning
            </ul>
            <p><small>
                Machine Learning in the Browser, Minds Mastering Machines [M³], London 2017
                <br>
            <a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
                <br>
            <a href="http://bit.ly/mcubed-js">
                http://bit.ly/mcubed-js
            </a>
            </small></p>
        </section>

    </div>

</div>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>
<script src="lib/jquery-2.2.4.js"></script>

<script>
    $('section').attr('data-background-image', "backgrounds/dark-blur.jpg")
//    $('section').attr('data-background-image', "backgrounds/tiles-raw.jpg")
//    $('section').attr('data-background-image', "backgrounds/white-transparent.jpg")
</script>
<script>
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
        // only applies to public version
        $('.preparation').remove();
    }
    Reveal.addEventListener( 'ready', function( event ) {
        if (window.location.hostname.indexOf('localhost') !== -1) {
            // only applies to presentation version
            Reveal.configure({ controls: false });
        } else {
            // only applies to public version
            $('.fragment').removeClass('fragment');
        }
        // applies to all versions
        $('code').addClass('line-numbers');
    } );
</script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'fade', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'reveal.js/plugin/zoom-js/zoom.js', async: true},
            {src: 'reveal.js/plugin/notes/notes.js', async: true},
            // https://github.com/mikemiles86/reveal-line-numbers
            {src: 'lib/js/line-numbers.js'}
        ]
    });

</script>

</body>
</html>
