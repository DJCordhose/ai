<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Serverless Machine Learning</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">-->
    <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
    <style>
        /*pre code {*/
            /*display: block;*/
            /*padding: 0.5em;*/
            /*background: #FFFFFF !important;*/
            /*color: #000000 !important;*/
        /*}*/

        .right-img {
            margin-left: 10px !important;
            float: right;
            height: 500px;
        }
        .todo:before {
            content: 'TODO: ';
        }
        .todo {
            color: red !important;
        }
        code span.line-number {
            color: lightcoral;
        }
        .reveal pre code {
            max-height: 1000px !important;
        }

        img {
            border: 0 !important;
            box-shadow:0 0 0 0 !important;
        }

        .reveal {
            -ms-touch-action: auto !important;
            touch-action: auto !important;
				}

				.reveal h2,
                .reveal h3,
				.reveal h4 {
					letter-spacing: 2px;
                    font-family: 'Amiri', serif;
                    /* font-family: 'Times New Roman', Times, serif; */
                    font-weight: bold;
                    font-style: italic;
                    letter-spacing: -2px;
                    text-transform: none !important;
                }

                .reveal em {
                    font-weight: bold;
                }

				.reveal .step-subtitle h1 {
					letter-spacing: 1px;
				}
				.reveal .step-subtitle h2,
				.reveal .step-subtitle h3 {
					text-transform: none;
					font-style: italic;
					font-weight: normal;
					/* font-weight: 400; */
					/* font-family: 'Amiri', serif; */
					font-family: 'Lobster', serif;
					letter-spacing: 1px;
					color: #2aa198;
					text-decoration: underline;
				}

				.reveal .front-page h1,
				.reveal .front-page h2 {
					font-family: "League Gothic";
					font-style: normal;
					text-transform: uppercase !important;
					letter-spacing: 1px;
				}

				.reveal .front-page h1 {
					font-size: 2.5em !important;
				}

				.reveal .highlight {
					background-color: #D3337B;
					color: white;
				}

        .reveal section img {
          background: none;
        }

				.reveal img.with-border {
					border: 1px solid #586e75 !important;
					box-shadow: 3px 3px 1px rgba(0, 0, 0, 0.15) !important;
				}

				.reveal li {
					margin-bottom: 8px;
				}

				/* For li's that use FontAwesome icons as bullet-point */
			.reveal ul.fa-ul li {
				list-style-type: none;
			}
    </style>

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

<!-- 
Serverless can both be understood as using pre-built 3rd services, as well as deploying custom code to pre-built 3rd party runtime environments.
Machine Learning can benefit from both scenarios. 
Firstly, commercial providers provide you with e.g. image recognition or natural language understanding APIs that
 you could not build or do not want to build yourself. 
 Secondly, you can deploy machine learning models build and trained by you to cloud services 
 who take care of versioning, scaling, resources etc.

In this talk I will show how to use a sentiment analysis API to find out which of your emails should be answered first. 
I will also train and deploy a simple TensorFlow model that predicts the category of a new customer. 
-->
                    
        <section>
            <h1>Serverless Machine Learning</h1>
            <h2><a href="https://hamburg.jeffconf.com/agenda">JeffConf - Hamburg - 2018</a></h2>
            <div>
                    <a href="http://zeigermann.eu">Oliver Zeigermann</a> /
                    <a href="http://twitter.com/djcordhose">@DJCordhose</a> /
                    <a href="http://floreysoft.com">floreysoft</a>
            </div>
        </section>

        <section class="step-subtitle">
            <h3>Part 1</h3>
            <h2>Using a pre-built 3rd party service</h2>
            <p>How to use a sentiment analysis API to find out which of your emails should be answered first</p>
        </section>

        <section>
            <h3>Cloud Natural Language: Google's ML API for Speech</h3>
            <img src="img/screenshot_sentiment_analysis.png">
            <p><small><a target="_blank" href="https://cloud.google.com/natural-language/">
                https://cloud.google.com/natural-language/
            </a></small></p>
        </section>

        <section>
            <h3>Using Ultradox Serverless Workflows</h3>
            <img src="img/ultradox-sentiment.png" height="500px">
            <p><small>Handles all authentication and API issues</small></p>
        </section>

        <section>
                <h2>Using the generated app</h2>
            </section>

        <section>
                <video controls autoplay 
                src="video/screencast_sentiment.mp4" type="video/mp4"
                ></video>
        </section>

        <section>
                <h2>Calling the API from Ultradox Serverless Workflow</h2>
        </section>

        <section>
                <video controls autoplay
                src="video/screencast_ultradox.mp4" type="video/mp4"
                ></video>
        </section>

        <section class="step-subtitle">
            <h3>Part 2</h3>
            <h2>Train and Deploy a TensorFlow model</h2>
            <p>Predict the category of a new customer running on Google Cloud ML</p>
        </section>


        <section>
            <h3>Customer Data</h3>
            <img src="img/insurance/data.png" height="400px">
            <p><small>How would you rank me (47) for a car with 56 HP?</small></p>
        </section>
    
        <section>
            <h3>Create TensorFlow model by applying alchemy</h3>
            <pre><code contenteditable data-trim class="fragment line-numbers python">
inputs = Input(name='input', shape=(2, ))
</code></pre>
<pre><code contenteditable data-trim class="fragment line-numbers python">
x = Dense(100, name='hidden1', activation='relu')(inputs)
x = Dense(100, name='hidden2', activation='relu')(x)
x = Dense(100, name='hidden3', activation='relu')(x)
predictions = Dense(3, name='softmax', activation='softmax')(x)
</code></pre>
        <pre><code contenteditable data-trim class="fragment line-numbers python">
model = Model(input=inputs, output=predictions)
model.compile(optimizer='adam',
            loss='categorical_crossentropy',
            metrics=['accuracy'])
 model.fit(X_train, y_train_categorical, epochs=1000)
</code></pre>
<p><small>Buzzword alarm: Deep Learning</small></p>

        </section>
            
        <section>
            <h3>Training Results</h3>
            <img src="img/insurance/deep-learn.png">
            <p><small>77% accuracy on test data (pretty good)</small></p>
        </section>
        <section>
            <h3>Deployment</h3>
            <img src="img/insurance/cloud-ml.png" height="500px">
            <!-- <pre><code contenteditable data-trim class="fragment line-numbers bash">
# https://cloud.google.com/ml-engine/docs/deploying-models

# Copy model to bucket
gsutil cp -R tf/1 gs://booster_bucket

# create model and version at https://console.cloud.google.com/mlengine
</code></pre> -->
        </section>

        <section>
            <h3>Usage</h3>
            <pre><code contenteditable data-trim class="fragment line-numbers javascript">
{"inputs": [ 160,  47,  10]}
</code></pre>
            <pre><code contenteditable data-trim class="fragment line-numbers bash">
gcloud ml-engine predict --model=booster --version=v1 
    --json-instances=./sample_insurance.json
            </code></pre>
            <pre><code contenteditable data-trim class="fragment line-numbers bash">
# SCORES, likelihood of category  red, green, yellow
# [0.003163766348734498, 0.9321494698524475, 0.06468681246042252]
</code></pre>

            </p>
                        </section>
    
        <section>
            <h2>Wrapup</h2>
            <ul>
                <li class="fragment">Prebuilt ML Services are at your finger tips
                <li class="fragment">If standard services are not sufficient, train your custom model with free software
                <li class="fragment">Models can be deployed to managed clouds (Google Cloud ML, Microsoft Azure) with ease
            </ul>
            
            <p><small></small>Ping me for questions / help / comments: <a href="http://zeigermann.eu">http://zeigermann.eu</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a> /                     <a href="http://floreysoft.com">floreysoft</a>

                </small>
            </p>
        </section>
        </div>

</div>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>
<script src="lib/jquery-2.2.4.js"></script>
<script>
    if (window.location.hostname.indexOf('localhost') !== -1) {
    } else {
        // only applies to public version
        $('.preparation').remove();
    }
    Reveal.addEventListener( 'ready', function( event ) {
        if (window.location.hostname.indexOf('localhost') !== -1) {
            // only applies to presentation version
            Reveal.configure({ controls: false });
        } else {
            // only applies to public version
            $('.fragment').removeClass('fragment');
        }
        // applies to all versions
        $('code').addClass('line-numbers');
    } );
    // $('section').attr('data-background-image', "backgrounds/light-metal.jpg");
    // $('section').attr('data-background-image', "backgrounds/pink.jpg");
    $('section').attr('data-background-image', "backgrounds/white.jpg");
//    $('section').attr('data-background-image', "backgrounds/code.jpg");
</script>


<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'reveal.js/plugin/zoom-js/zoom.js', async: true},
            {src: 'reveal.js/plugin/notes/notes.js', async: true},
            {src: 'lib/js/line-numbers.js'}
        ]
    });

</script>

</body>
</html>
